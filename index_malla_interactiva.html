
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Curricular - Ingenier√≠a Comercial</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fff;
      color: #000;
      padding: 20px;
    }
    h1, h2 {
      text-align: center;
    }
    .semestre {
      margin-bottom: 40px;
    }
    .ramos {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }
    button.ramo {
      border: 1px solid #000;
      background-color: #fff;
      padding: 10px 15px;
      min-width: 220px;
      cursor: pointer;
    }
    button.ramo[disabled] {
      color: #aaa;
      border-color: #ccc;
      cursor: not-allowed;
    }
    button.aprobado {
      text-decoration: line-through;
    }
    .reiniciar {
      display: block;
      margin: 50px auto 0;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>Malla Curricular - Ingenier√≠a Comercial</h1>
  <div id="contenedor-malla"></div>

  <button class="reiniciar" onclick="reiniciarProgreso()">üîÅ Reiniciar progreso</button>

  <script>
    const malla = {
  "1¬∞ Semestre": {
    "algebra_1": {
      "nombre": "√Ålgebra I",
      "requisitos": []
    },
    "calculo_1": {
      "nombre": "C√°lculo I",
      "requisitos": []
    },
    "intro_economia": {
      "nombre": "Introducci√≥n a la Econom√≠a",
      "requisitos": []
    },
    "contabilidad_basica": {
      "nombre": "Contabilidad B√°sica",
      "requisitos": []
    },
    "administracion_1": {
      "nombre": "Administraci√≥n I",
      "requisitos": []
    },
    "metodologia_aprendizaje": {
      "nombre": "Metodolog√≠a para el Aprendizaje Aut√≥nomo",
      "requisitos": []
    }
  },
  "2¬∞ Semestre": {
    "algebra_2": {
      "nombre": "√Ålgebra II",
      "requisitos": [
        "algebra_1"
      ]
    },
    "calculo_2": {
      "nombre": "C√°lculo II",
      "requisitos": [
        "calculo_1"
      ]
    },
    "micro_1": {
      "nombre": "Microeconom√≠a I",
      "requisitos": [
        "calculo_1",
        "intro_economia"
      ]
    },
    "contabilidad_avanzada": {
      "nombre": "Contabilidad Avanzada",
      "requisitos": [
        "contabilidad_basica"
      ]
    },
    "administracion_2": {
      "nombre": "Administraci√≥n II",
      "requisitos": [
        "administracion_1"
      ]
    },
    "programacion": {
      "nombre": "Taller de Programaci√≥n",
      "requisitos": [
        "algebra_1"
      ]
    }
  },
  "3¬∞ Semestre": {
    "comunicacion": {
      "nombre": "T√©cnicas de la Comunicaci√≥n",
      "requisitos": []
    },
    "estadisticas": {
      "nombre": "Estad√≠sticas",
      "requisitos": [
        "calculo_2"
      ]
    },
    "macro_1": {
      "nombre": "Macroeconom√≠a I",
      "requisitos": [
        "micro_1"
      ]
    },
    "costos": {
      "nombre": "Contabilidad de Costos",
      "requisitos": [
        "contabilidad_avanzada"
      ]
    },
    "investigacion": {
      "nombre": "Metodolog√≠a de la Investigaci√≥n",
      "requisitos": []
    },
    "sistemas_info": {
      "nombre": "Sistemas de Informaci√≥n Administrativa",
      "requisitos": [
        "administracion_2",
        "programacion"
      ]
    }
  },
  "4¬∞ Semestre": {
    "inv_operativa": {
      "nombre": "Investigaci√≥n Operativa",
      "requisitos": [
        "algebra_2",
        "estadisticas"
      ]
    },
    "estadistica_emp": {
      "nombre": "Estad√≠stica Empresarial",
      "requisitos": [
        "estadisticas"
      ]
    },
    "micro_2": {
      "nombre": "Microeconom√≠a II",
      "requisitos": [
        "macro_1"
      ]
    },
    "proceso_industrial": {
      "nombre": "Proceso Industrial",
      "requisitos": [
        "costos",
        "sistemas_info"
      ]
    },
    "ingles_1": {
      "nombre": "Ingl√©s I",
      "requisitos": []
    },
    "tic": {
      "nombre": "TIC",
      "requisitos": []
    }
  },
  "5¬∞ Semestre": {
    "legislacion_laboral": {
      "nombre": "Legislaci√≥n Laboral",
      "requisitos": [
        "algebra_1",
        "calculo_1",
        "intro_economia",
        "contabilidad_basica",
        "administracion_1",
        "metodologia_aprendizaje",
        "algebra_2",
        "calculo_2",
        "micro_1",
        "contabilidad_avanzada",
        "administracion_2",
        "programacion",
        "comunicacion",
        "estadisticas",
        "macro_1",
        "costos",
        "investigacion",
        "sistemas_info"
      ]
    },
    "derecho_comercial": {
      "nombre": "Derecho Comercial",
      "requisitos": [
        "algebra_1",
        "calculo_1",
        "intro_economia",
        "contabilidad_basica",
        "administracion_1",
        "metodologia_aprendizaje",
        "algebra_2",
        "calculo_2",
        "micro_1",
        "contabilidad_avanzada",
        "administracion_2",
        "programacion",
        "comunicacion",
        "estadisticas",
        "macro_1",
        "costos",
        "investigacion",
        "sistemas_info"
      ]
    },
    "econometria": {
      "nombre": "Econometr√≠a",
      "requisitos": [
        "estadistica_emp",
        "micro_2"
      ]
    },
    "macro_2": {
      "nombre": "Macroeconom√≠a II",
      "requisitos": [
        "macro_1"
      ]
    },
    "control_gestion": {
      "nombre": "Control de Gesti√≥n",
      "requisitos": [
        "costos"
      ]
    },
    "ingles_2": {
      "nombre": "Ingl√©s II",
      "requisitos": [
        "ingles_1"
      ]
    }
  },
  "6¬∞ Semestre": {
    "gestion_personas": {
      "nombre": "Gesti√≥n de Personas",
      "requisitos": [
        "legislacion_laboral"
      ]
    },
    "gestion_operaciones": {
      "nombre": "Gesti√≥n de Operaciones",
      "requisitos": [
        "inv_operativa",
        "proceso_industrial"
      ]
    },
    "taller_relacion": {
      "nombre": "Taller de Relaci√≥n Interpersonal",
      "requisitos": [
        "legislacion_laboral"
      ]
    },
    "finanzas_1": {
      "nombre": "Finanzas Corporativas I",
      "requisitos": [
        "control_gestion"
      ]
    },
    "ingles_3": {
      "nombre": "Ingl√©s III",
      "requisitos": [
        "ingles_2"
      ]
    },
    "legislacion_tributaria": {
      "nombre": "Legislaci√≥n Tributaria",
      "requisitos": [
        "derecho_comercial"
      ]
    }
  },
  "7¬∞ Semestre": {
    "comportamiento_org": {
      "nombre": "Comportamiento Organizacional",
      "requisitos": [
        "gestion_personas"
      ]
    },
    "logistica": {
      "nombre": "Log√≠stica Empresarial",
      "requisitos": [
        "gestion_operaciones"
      ]
    },
    "gestion_estrategica": {
      "nombre": "Gesti√≥n Estrat√©gica",
      "requisitos": [
        "finanzas_1"
      ]
    },
    "finanzas_2": {
      "nombre": "Finanzas Corporativas II",
      "requisitos": [
        "finanzas_1"
      ]
    },
    "ingles_4": {
      "nombre": "Ingl√©s IV",
      "requisitos": [
        "ingles_3"
      ]
    },
    "marketing_1": {
      "nombre": "Marketing I",
      "requisitos": [
        "gestion_operaciones",
        "finanzas_1"
      ]
    },
    "practica_formativa": {
      "nombre": "Pr√°ctica Formativa",
      "requisitos": [
        "algebra_1",
        "calculo_1",
        "intro_economia",
        "contabilidad_basica",
        "administracion_1",
        "metodologia_aprendizaje",
        "algebra_2",
        "calculo_2",
        "micro_1",
        "contabilidad_avanzada",
        "administracion_2",
        "programacion",
        "comunicacion",
        "estadisticas",
        "macro_1",
        "costos",
        "investigacion",
        "sistemas_info",
        "inv_operativa",
        "estadistica_emp",
        "micro_2",
        "proceso_industrial",
        "ingles_1",
        "tic",
        "legislacion_laboral",
        "derecho_comercial",
        "econometria",
        "macro_2",
        "control_gestion",
        "ingles_2",
        "gestion_personas",
        "gestion_operaciones",
        "taller_relacion",
        "finanzas_1",
        "ingles_3",
        "legislacion_tributaria"
      ]
    }
  },
  "8¬∞ Semestre": {
    "desarrollo_org": {
      "nombre": "Desarrollo Organizacional",
      "requisitos": [
        "comportamiento_org"
      ]
    },
    "taller_innovacion": {
      "nombre": "Taller de Innovaci√≥n y Emprendimiento",
      "requisitos": [
        "algebra_1",
        "calculo_1",
        "intro_economia",
        "contabilidad_basica",
        "administracion_1",
        "metodologia_aprendizaje",
        "algebra_2",
        "calculo_2",
        "micro_1",
        "contabilidad_avanzada",
        "administracion_2",
        "programacion",
        "comunicacion",
        "estadisticas",
        "macro_1",
        "costos",
        "investigacion",
        "sistemas_info",
        "inv_operativa",
        "estadistica_emp",
        "micro_2",
        "proceso_industrial",
        "ingles_1",
        "tic",
        "legislacion_laboral",
        "derecho_comercial",
        "econometria",
        "macro_2",
        "control_gestion",
        "ingles_2",
        "gestion_personas",
        "gestion_operaciones",
        "taller_relacion",
        "finanzas_1",
        "ingles_3",
        "legislacion_tributaria"
      ]
    },
    "optativo_1": {
      "nombre": "Optativo I",
      "requisitos": [
        "algebra_1",
        "calculo_1",
        "intro_economia",
        "contabilidad_basica",
        "administracion_1",
        "metodologia_aprendizaje",
        "algebra_2",
        "calculo_2",
        "micro_1",
        "contabilidad_avanzada",
        "administracion_2",
        "programacion",
        "comunicacion",
        "estadisticas",
        "macro_1",
        "costos",
        "investigacion",
        "sistemas_info",
        "inv_operativa",
        "estadistica_emp",
        "micro_2",
        "proceso_industrial",
        "ingles_1",
        "tic"
      ]
    },
    "electivo_1": {
      "nombre": "Electivo I",
      "requisitos": [
        "algebra_1",
        "calculo_1",
        "intro_economia",
        "contabilidad_basica",
        "administracion_1",
        "metodologia_aprendizaje",
        "algebra_2",
        "calculo_2",
        "micro_1",
        "contabilidad_avanzada",
        "administracion_2",
        "programacion",
        "comunicacion",
        "estadisticas",
        "macro_1",
        "costos",
        "investigacion",
        "sistemas_info",
        "inv_operativa",
        "estadistica_emp",
        "micro_2",
        "proceso_industrial",
        "ingles_1",
        "tic",
        "legislacion_laboral",
        "derecho_comercial",
        "econometria",
        "macro_2",
        "control_gestion",
        "ingles_2",
        "gestion_personas",
        "gestion_operaciones",
        "taller_relacion",
        "finanzas_1",
        "ingles_3",
        "legislacion_tributaria"
      ]
    },
    "ingles_5": {
      "nombre": "Ingl√©s V",
      "requisitos": [
        "ingles_4"
      ]
    },
    "marketing_2": {
      "nombre": "Marketing II",
      "requisitos": [
        "marketing_1"
      ]
    }
  },
  "9¬∞ Semestre": {
    "trabajo_titulacion_1": {
      "nombre": "Trabajo de Titulaci√≥n I",
      "requisitos": [
        "desarrollo_org",
        "taller_innovacion",
        "optativo_1",
        "electivo_1",
        "ingles_5",
        "marketing_2",
        "practica_formativa"
      ]
    },
    "electivo_2": {
      "nombre": "Electivo II",
      "requisitos": [
        "electivo_1"
      ]
    },
    "eval_proyectos": {
      "nombre": "Preparaci√≥n y Evaluaci√≥n de Proyectos",
      "requisitos": [
        "desarrollo_org",
        "taller_innovacion",
        "optativo_1",
        "electivo_1",
        "ingles_5",
        "marketing_2",
        "practica_formativa"
      ]
    },
    "etica_moral": {
      "nombre": "√âtica y Moral Profesional",
      "requisitos": [
        "electivo_1"
      ]
    },
    "ingles_6": {
      "nombre": "Ingl√©s VI",
      "requisitos": [
        "ingles_5"
      ]
    },
    "practica_profesional": {
      "nombre": "Pr√°ctica Profesional",
      "requisitos": [
        "desarrollo_org",
        "taller_innovacion",
        "optativo_1",
        "electivo_1",
        "ingles_5",
        "marketing_2",
        "practica_formativa"
      ]
    }
  },
  "10¬∞ Semestre": {
    "trabajo_titulacion_2": {
      "nombre": "Trabajo de Titulaci√≥n II",
      "requisitos": [
        "trabajo_titulacion_1"
      ]
    },
    "optativo_2": {
      "nombre": "Optativo II",
      "requisitos": [
        "optativo_1"
      ]
    },
    "taller_proyectos": {
      "nombre": "Taller de Proyectos",
      "requisitos": [
        "eval_proyectos"
      ]
    },
    "rse": {
      "nombre": "RSE",
      "requisitos": [
        "desarrollo_org",
        "taller_innovacion",
        "optativo_1",
        "electivo_1",
        "ingles_5",
        "marketing_2",
        "practica_formativa"
      ]
    }
  }
};

    const aprobados = JSON.parse(localStorage.getItem("aprobados") || "[]");

    function crearMalla() {
      const contenedor = document.getElementById("contenedor-malla");
      for (const [semestre, ramos] of Object.entries(malla)) {
        const div = document.createElement("div");
        div.className = "semestre";
        const h2 = document.createElement("h2");
        h2.textContent = semestre;
        div.appendChild(h2);

        const lista = document.createElement("div");
        lista.className = "ramos";

        for (const [clave, ramo] of Object.entries(ramos)) {
          const btn = document.createElement("button");
          btn.className = "ramo";
          btn.id = clave;
          btn.textContent = ramo.nombre;

          if (aprobados.includes(clave)) {
            btn.classList.add("aprobado");
            btn.textContent += " ‚úÖ";
          }

          const faltan = ramo.requisitos.filter(r => !aprobados.includes(r));
          if (faltan.length > 0) {
            btn.disabled = true;
            btn.title = "Debes aprobar: " + faltan.map(r => obtenerNombre(r)).join(", ");
          }

          btn.onclick = () => aprobarRamo(clave);
          lista.appendChild(btn);
        }

        div.appendChild(lista);
        contenedor.appendChild(div);
      }
    }

    function aprobarRamo(clave) {
      if (!aprobados.includes(clave)) {
        aprobados.push(clave);
        localStorage.setItem("aprobados", JSON.stringify(aprobados));
        location.reload();
      }
    }

    function reiniciarProgreso() {
      localStorage.removeItem("aprobados");
      location.reload();
    }

    function obtenerNombre(clave) {
      for (const semestre of Object.values(malla)) {
        if (semestre[clave]) return semestre[clave].nombre;
      }
      return clave;
    }

    crearMalla();
  </script>
</body>
</html>
